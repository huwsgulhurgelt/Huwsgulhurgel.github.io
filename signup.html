<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>Хүргэгч бүртгүүлэх</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header>Хүргэгч бүртгүүлэх</header>

<div class="container form-container">
  <input type="text" id="phone" placeholder="Утас">
  <input type="text" id="desc" placeholder="Тайлбар">
  <input type="password" id="pin" placeholder="PIN">
  <button id="registerBtn" class="btn submit">Бүртгүүлэх</button>
</div>

<a href="index.html" class="back-link">← Буцах</a>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD_2GnarpqIcFj6e6Qop5fxOljjbhuDOy0",
  authDomain: "huwsgulhurgelt.firebaseapp.com",
  databaseURL: "https://huwsgulhurgelt-default-rtdb.firebaseio.com/",
  projectId: "huwsgulhurgelt",
  storageBucket: "huwsgulhurgelt.firebasestorage.app",
  messagingSenderId: "274801313992",
  appId: "1:274801313992:web:1449e8135030e0c6ba7dfd",
  measurementId: "G-WLFV2M24LC"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

document.getElementById('registerBtn').onclick = () => {
  const phone = document.getElementById('phone').value;
  const desc = document.getElementById('desc').value;
  const pin = document.getElementById('pin').value;

  if(phone && desc && pin){
    const carriersRef = ref(database,'carriers');
    const newRef = push(carriersRef);
    set(newRef,{phone, description: desc, pin});
    alert("Бүртгэл амжилттай!");
    document.getElementById('phone').value='';
    document.getElementById('desc').value='';
    document.getElementById('pin').value='';
  } else alert("Бүх талбарыг бөглөнө үү!");
};
</script>
</body>
</html>
